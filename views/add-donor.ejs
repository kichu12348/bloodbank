<%- include('partials/header') %>
<%- include('partials/nav') %>

<main class="max-w-2xl mx-auto px-4 py-6">
  <h1 class="text-2xl font-semibold mb-4">Add Donor</h1>

  <% if (error) { %>
    <div class="mb-4 p-3 rounded bg-red-100 text-red-800"><%= error %></div>
  <% } %>

  <form action="/donors/add" method="POST" class="space-y-4 bg-white p-4 border rounded shadow-sm">
    <div>
      <label class="block text-sm font-medium mb-1">Name</label>
      <input type="text" name="name" value="<%= form.name || '' %>" class="w-full border rounded px-3 py-2" required />
    </div>
    <div>
      <label class="block text-sm font-medium mb-1">Blood Group</label>
      <select name="blood_group" class="w-full border rounded px-3 py-2" required>
        <% const groups = ['O+','O-','A+','A-','B+','B-','AB+','AB-']; %>
        <% groups.forEach(g => { %>
          <option value="<%= g %>" <%= form.blood_group===g ? 'selected' : '' %>><%= g %></option>
        <% }) %>
      </select>
    </div>
    <div>
      <label class="block text-sm font-medium mb-1">Phone</label>
      <input type="text" name="phone" value="<%= form.phone || '' %>" class="w-full border rounded px-3 py-2" required />
    </div>
    <div>
      <label class="block text-sm font-medium mb-1">City</label>
      <input type="text" name="city" value="<%= form.city || '' %>" class="w-full border rounded px-3 py-2" required />
    </div>
    <div class="flex gap-2">
      <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Save</button>
      <a href="/donors" class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300">Cancel</a>
    </div>
  </form>
</main>

<%- include('partials/footer') %>
